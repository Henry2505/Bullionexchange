<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Test Signup Button</title>
  <style>
    body {
      font-family: sans-serif;
      background: #121212;
      color: #e0e0e0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
    }
    input {
      margin: 8px 0;
      padding: 8px;
      width: 250px;
    }
    button {
      padding: 10px 20px;
      font-size: 16px;
    }
    button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    #message {
      margin-top: 16px;
      height: 24px;
    }
  </style>
</head>
<body>

  <h2>Minimal Signup Test</h2>

  <input type="email" id="email" placeholder="Email address" />
  <input type="password" id="password" placeholder="Password (min 8 chars)" />

  <button id="signup-btn" disabled>Sign Up</button>

  <div id="message"></div>

  <script>
    // 1) Grab references
    const emailInput   = document.getElementById('email');
    const pwdInput     = document.getElementById('password');
    const signupBtn    = document.getElementById('signup-btn');
    const messageDiv   = document.getElementById('message');

    // 2) Enable sign‑up button only when email is valid and password ≥ 8 chars
    function validateForm() {
      const email = emailInput.value.trim();
      const pwd   = pwdInput.value;
      const isValidEmail = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
      const isValidPwd   = pwd.length >= 8;
      signupBtn.disabled = !(isValidEmail && isValidPwd);
    }

    emailInput.addEventListener('input', validateForm);
    pwdInput.addEventListener('input', validateForm);

    // 3) Sign‑up button listener
    signupBtn.addEventListener('click', () => {
      messageDiv.textContent = "Button CLICKED! ✅";
      // In a real flow, here you'd call supabase.auth.signUp(...)
    });

    // 4) On load, run validation once
    document.addEventListener('DOMContentLoaded', validateForm);
  </script>
</body>
</html>
