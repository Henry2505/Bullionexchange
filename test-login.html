<!DOCTYPE html>
<html>
  <head><meta charset="utf-8"><title>Auth Test</title></head>
  <body>
    <h1>Supabase Auth Test</h1>
    <script type="module">
      import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm'

      const SUPA_URL = 'https://dapwpgvnfjcfqqhrpxla.supabase.co';
      const SUPA_KEY = 'REPLACE_WITH_YOUR_ANON_KEY';

      console.log('Initializing client with:', SUPA_URL, SUPA_KEY.slice(0,10)+'…');

      const supabase = createClient(SUPA_URL, SUPA_KEY);

      (async () => {
        console.log('Calling signInWithPassword…');
        const res = await fetch(`${SUPA_URL}/auth/v1/token?grant_type=password`, {
          method: 'POST',
          headers: {
            'apikey': SUPA_KEY,
            'Content-Type': 'application/x-www-form-urlencoded'
          },
          body: `username=henrychukwuemeka215%40icloud.com&password=Blessed%40123`
        });
        console.log('Raw fetch status:', res.status);
        console.log('Raw fetch response headers:', [...res.headers.entries()]);
        const json = await res.json();
        console.log('Parsed JSON:', json);
      })();
    </script>
  </body>
</html>
