<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CBE Admin Panel</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet" />
  <style>
    body { margin:0; font-family:'Poppins',sans-serif; background:#0b0b0b; color:#f5f5f5; }
    .sidebar {
      width: 260px;
      background-color: #111;
      height: 100vh;
      position: fixed;
      top: 0; left: 0;
      overflow-y: auto;
      transition: all 0.3s ease;
      box-shadow: 0 0 12px gold;
    }
    .sidebar.collapsed {
      width: 60px;
    }
    .sidebar h2 {
      padding: 20px;
      font-size: 22px;
      background: gold;
      color: #000;
      margin: 0;
      text-align: center;
    }
    .sidebar ul {
      list-style: none;
      padding: 0;
    }
    .sidebar ul li {
      padding: 14px 20px;
      cursor: pointer;
      border-bottom: 1px solid #222;
    }
    .sidebar ul li:hover {
      background: rgba(255, 215, 0, 0.1);
    }
    .sidebar ul li.active {
      background: rgba(255, 215, 0, 0.2);
    }

    .toggle-btn {
      position: absolute;
      top: 15px;
      right: -25px;
      background: gold;
      color: #000;
      padding: 8px 10px;
      border-radius: 50%;
      cursor: pointer;
    }

    .main-content {
      margin-left: 260px;
      padding: 30px;
      transition: margin-left 0.3s ease;
    }
    .main-content.collapsed {
      margin-left: 60px;
    }

    .section {
      display: none;
    }
    .section.active {
      display: block;
    }

    .signal-form input,
    .signal-form textarea {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      background: #222;
      color: #fff;
      border: 1px solid #444;
      border-radius: 5px;
    }
    .signal-form button {
      background: gold;
      color: #000;
      padding: 12px 24px;
      border: none;
      font-weight: bold;
      border-radius: 6px;
      cursor: pointer;
    }
    .signal-form button:hover {
      background: #e6c200;
    }
  </style>
</head>
<body>
  <div class="sidebar" id="sidebar">
    <h2>CBE Admin</h2>
    <div class="toggle-btn" onclick="toggleSidebar()">â˜°</div>
    <ul>
      <li onclick="showSection('dashboard')">Dashboard</li>
      <li onclick="showSection('users')">Users</li>
      <li onclick="showSection('payments')">Payments</li>
      <li onclick="showSection('settings')">Settings</li>
      <li onclick="showSection('signals')" class="active">Signals</li>
      <li onclick="showSection('broadcast')">Broadcast</li>
      <li onclick="showSection('messages')">Messages</li>
      <li onclick="showSection('tradeInsights')">Trade Insights</li>
      <li onclick="showSection('tradeHistory')">Trade History</li>
    </ul>
  </div>

  <div class="main-content" id="mainContent">
    <div id="signals" class="section active">
      <h1>Signal Publisher</h1>
      <form id="signalForm" class="signal-form">
        <input type="text" id="pair" placeholder="Currency Pair e.g., EUR/USD" required />
        <input type="text" id="entry" placeholder="Entry Price e.g., 1.07250" required />
        <input type="text" id="tp" placeholder="Take Profit e.g., 1.07700" required />
        <input type="text" id="sl" placeholder="Stop Loss e.g., 1.06950" required />
        <textarea id="note" placeholder="Note or Strategy (optional)"></textarea>
        <button type="submit">Publish Signal</button>
      </form>
    </div>

<!-- Part 1 ends here -->
        <!-- other admin sections -->
    <div id="dashboard" class="section">
      <h1>Admin Dashboard</h1>
      <p>Welcome to the CBE Admin Panel</p>
    </div>

    <div id="users" class="section">
      <h1>Registered Users</h1>
      <div id="userList">Loading users...</div>
    </div>

    <div id="payments" class="section">
      <h1>Payment Records</h1>
      <div id="paymentList">Loading payments...</div>
    </div>

    <div id="settings" class="section">
      <h1>Payment Settings</h1>
      <input type="text" id="btc" placeholder="BTC Address" />
      <input type="text" id="eth" placeholder="ETH Address" />
      <input type="text" id="usdt" placeholder="USDT Address" />
      <input type="text" id="paystackKey" placeholder="Paystack Key" />
      <button onclick="saveSettings()">Save Settings</button>
    </div>

    <div id="broadcast" class="section">
      <h1>Broadcast Message</h1>
      <textarea id="broadcastMsg" placeholder="Message to all users"></textarea>
      <button onclick="sendBroadcast()">Send</button>
    </div>

    <div id="messages" class="section">
      <h1>Inbox</h1>
      <div id="messageList">No messages yet.</div>
    </div>

    <div id="tradeInsights" class="section">
      <h1>Trade Insights Upload</h1>
      <input type="file" id="insightUpload" accept="image/*" />
      <textarea placeholder="Insight Note"></textarea>
      <button>Upload Insight</button>
    </div>

    <div id="tradeHistory" class="section">
      <h1>Trade History Upload (Jan - Dec)</h1>
      <input type="file" id="historyUpload" accept="image/*" />
      <textarea placeholder="History Note"></textarea>
      <button>Upload History</button>
    </div>
  </div>

  <script>
    const sections = document.querySelectorAll('.section');

    function showSection(id) {
      sections.forEach(sec => sec.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }

    function toggleSidebar() {
      document.getElementById('sidebar').classList.toggle('collapsed');
      document.getElementById('mainContent').classList.toggle('collapsed');
    }

    // Signal form save to localStorage
    document.getElementById('signalForm').addEventListener('submit', function (e) {
      e.preventDefault();
      const pair = document.getElementById('pair').value.trim();
      const entry = document.getElementById('entry').value.trim();
      const tp = document.getElementById('tp').value.trim();
      const sl = document.getElementById('sl').value.trim();
      const note = document.getElementById('note').value.trim();

      if (!pair || !entry || !tp || !sl) {
        alert("Please fill in all required fields.");
        return;
      }

      const signal = {
        date: new Date().toLocaleDateString(),
        time: new Date().toLocaleTimeString(),
        pair, entry, tp, sl, note
      };

      const signals = JSON.parse(localStorage.getItem('vipSignals') || '[]');
      signals.unshift(signal);
      localStorage.setItem('vipSignals', JSON.stringify(signals));
      alert("Signal published successfully!");
      this.reset();
    });

    // Save payment settings
    function saveSettings() {
      const settings = {
        btc: document.getElementById('btc').value.trim(),
        eth: document.getElementById('eth').value.trim(),
        usdt: document.getElementById('usdt').value.trim(),
        paystackKey: document.getElementById('paystackKey').value.trim()
      };
      localStorage.setItem('paymentSettings', JSON.stringify(settings));
      alert("Settings saved!");
    }

    // Load settings into fields
    (function loadSettings() {
      const s = JSON.parse(localStorage.getItem('paymentSettings') || '{}');
      document.getElementById('btc').value = s.btc || '';
      document.getElementById('eth').value = s.eth || '';
      document.getElementById('usdt').value = s.usdt || '';
      document.getElementById('paystackKey').value = s.paystackKey || '';
    })();
  </script>
</body>
</html>
