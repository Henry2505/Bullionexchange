<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CBE Admin Panel</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
  <style>
    /* Reset & base */
    * { box-sizing:border-box; margin:0; padding:0; font-family:'Poppins',sans-serif; }
    body,html { height:100%; overflow:hidden; }

    /* Video background + overlay */
    #bg-video {
      position:fixed; top:0; left:0;
      width:100%; height:100%;
      object-fit:cover; z-index:-2;
    }
    #overlay { 
      position:fixed; top:0; left:0;
      width:100%; height:100%;
      background:rgba(0,0,0,0.7); z-index:-1;
    }

    /* Password overlay */
    #authOverlay {
      position:fixed; top:0; left:0; right:0; bottom:0;
      display:flex; align-items:center; justify-content:center;
      background:rgba(0,0,0,0.8);
      z-index:1002;
    }
    #authOverlay form {
      background:#111; padding:30px; border-radius:8px;
      box-shadow:0 0 20px rgba(0,0,0,0.8);
      text-align:center;
    }
    #authOverlay h1 {
      color:gold; margin-bottom:20px; font-size:1.8rem;
    }
    #authOverlay input[type=password] {
      width:250px; padding:10px; margin-bottom:15px;
      border:1px solid #333; border-radius:4px;
      background:#222; color:#f5f5f5;
    }
    #authOverlay button {
      padding:10px 20px; background:gold; color:#000;
      border:none; border-radius:4px; cursor:pointer;
      font-weight:bold;
    }
    #authError {
      color:#f66; margin-top:10px; font-size:0.9rem;
    }

    /* Toggle button */
    #toggleSidebar {
      position:fixed; top:15px; left:15px;
      background:gold; color:#000;
      border:none; border-radius:4px;
      font-size:1.5rem; width:36px; height:36px;
      cursor:pointer; z-index:1001;
    }

    /* Layout */
    .container { display:flex; height:100%; position:relative; }
    .sidebar {
      position:absolute; top:0; left:0; bottom:0;
      width:220px; background:#111; border-right:1px solid #222;
      display:flex; flex-direction:column; padding-top:60px;
      transition:transform .3s ease; z-index:1000;
    }
    .content {
      margin-left:220px; flex:1; overflow-y:auto;
      padding:20px 30px; color:#f5f5f5;
      transition:margin-left .3s ease;
    }
    body.collapsed-sidebar .sidebar { transform:translateX(-220px); }
    body.collapsed-sidebar .content { margin-left:0; }

    .sidebar a {
      color:#ccc; text-decoration:none;
      padding:12px 20px; margin:4px 0;
      border-left:4px solid transparent;
      transition:all .2s ease;
    }
    .sidebar a.active, .sidebar a:hover {
      color:gold; background:#222;
      border-left-color:gold;
    }

    /* Section headings */
    h2 { margin-bottom:16px; color:gold; }

    /* Dashboard cards */
    .cards { display:flex; gap:20px; margin-bottom:30px; }
    .card {
      flex:1; background:#1c1c1c; padding:20px; border-radius:8px;
      box-shadow:0 0 10px rgba(0,0,0,0.5);
    }
    .card h3 { color:#ccc; margin-bottom:10px; }
    .card p { font-size:2rem; color:#ffcc00; }

    /* Tables */
    table {
      width:100%; border-collapse:collapse; margin-bottom:30px;
    }
    table th, table td {
      padding:12px; border-bottom:1px solid #333;
      text-align:left;
    }
    table th { background:#222; color:#ddd; }
    table tr:hover { background:#222; }
    .btn { padding:6px 12px; background:gold; color:#000; border:none; border-radius:4px; cursor:pointer; font-size:.9rem; }
    .btn.danger { background:#c0392b; color:#fff; }
    .btn.small { font-size:.8rem; padding:4px 8px; }

    /* Forms */
    form { background:#1c1c1c; padding:20px; border-radius:8px; margin-bottom:30px; }
    .form-group { margin-bottom:15px; }
    label { display:block; margin-bottom:6px; color:#ccc; }
    input[type=text], input[type=datetime-local], textarea {
      width:100%; padding:8px; border:1px solid #333; border-radius:4px; background:#111; color:#f5f5f5;
    }
    textarea { resize:vertical; height:80px; }
    .form-actions { text-align:right; }

    /* Image preview */
    .preview { margin-top:8px; max-height:120px; }

    /* Utility */
    .hidden { display:none; }
  </style>
</head>
<body>
  <!-- Video + overlay -->
  <video id="bg-video" autoplay muted loop playsinline preload="auto">
    <source src="star-video.MP4" type="video/mp4">
  </video>
  <div id="overlay"></div>

  <!-- Password Overlay -->
  <div id="authOverlay">
    <form id="authForm">
      <h1>Admin Login</h1>
      <input type="password" id="adminPwd" placeholder="Enter password" required>
      <button type="submit">Enter</button>
      <div id="authError" class="hidden">Incorrect password.</div>
    </form>
  </div>

  <!-- Sidebar Toggle -->
  <button id="toggleSidebar">⋮</button>

  <div class="container">
    <!-- Sidebar -->
    <nav class="sidebar">
      <a href="#" class="active" data-section="dashboard">Dashboard</a>
      <a href="#" data-section="payments">Payments</a>
      <a href="#" data-section="users">Users</a>
      <a href="#" data-section="trades">Trades</a>
      <a href="#" data-section="signals">Signals</a>
      <a href="#" data-section="broadcasts">Broadcasts</a>
      <a href="#" data-section="inbox">Inbox</a>
      <a href="#" data-section="settings">Settings</a>
      <a href="#" data-section="logs">Logs</a>
      <a href="CBE_login.html" style="margin-top:auto;" class="btn danger">Logout</a>
    </nav>

    <!-- Main content -->
    <div class="content">
      <!-- Dashboard -->
      <section id="dashboard">
        <h2>Overview</h2>
        <div class="cards">
          <div class="card"><h3>Active VIPs</h3><p id="stat-users">—</p></div>
          <div class="card"><h3>Pending Payments</h3><p id="stat-pending">—</p></div>
          <div class="card"><h3>Total Trades</h3><p id="stat-trades">—</p></div>
          <div class="card"><h3>Unread Messages</h3><p id="stat-messages">—</p></div>
        </div>
      </section>
      <!-- rest of your sections... -->
    </div>
  </div>

  <script>
    // Authentication
    document.getElementById('authForm').addEventListener('submit', e => {
      e.preventDefault();
      const val = document.getElementById('adminPwd').value;
      if (val === 'Blessed@123') {
        document.getElementById('authOverlay').style.display = 'none';
      } else {
        const err = document.getElementById('authError');
        err.classList.remove('hidden');
      }
    });

    // Sidebar toggle
    document.getElementById('toggleSidebar').addEventListener('click', ()=>{
      document.body.classList.toggle('collapsed-sidebar');
    });

    // Tab‐switching
    document.querySelectorAll('.sidebar a[data-section]').forEach(a=>{
      a.addEventListener('click', e=>{
        e.preventDefault();
        document.querySelectorAll('.sidebar a').forEach(x=>x.classList.remove('active'));
        a.classList.add('active');
        const sec = a.dataset.section;
        document.querySelectorAll('.content section').forEach(s=>{
          sec === s.id ? s.classList.remove('hidden') : s.classList.add('hidden');
        });
      });
    });

    // Image previews
    function previewImage(inputEl, previewId){
      const file = inputEl.files[0], img = document.getElementById(previewId);
      if (file) {
        const reader = new FileReader();
        reader.onload = e => { img.src = e.target.result; img.classList.remove('hidden'); };
        reader.readAsDataURL(file);
      }
    }
    document.getElementById('tradeImage').addEventListener('change', ()=>previewImage(event.target,'tradePreview'));
    document.getElementById('signalImage').addEventListener('change', ()=>previewImage(event.target,'signalPreview'));
  </script>
</body>
</html>
