<!-- File: capital-support.html -->
<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CBE – Capital Support</title>
  <meta name="description" content="Apply for CBE’s in-office Capital Support: world-class funding, tech, & mentorship."/>
  <meta name="keywords" content="CBE, Capital Support, Forex, Mentorship, Trading Fund"/>

  <!-- Favicon & Fonts -->
  <link rel="icon" href="/favicon.ico" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
  <script src="https://kit.fontawesome.com/your-kit-code.js" crossorigin="anonymous"></script>

  <style>
    /* ===== RESET & THEME VARIABLES ===== */
    * { margin:0; padding:0; box-sizing:border-box; }
    html { scroll-behavior: smooth; }
    body, html {
      font-family:'Poppins', sans-serif;
      color: var(--text);
      background: var(--bg);
      width:100%; height:100%;
      overflow-x:hidden;
    }
    a { color: var(--gold); text-decoration:none; }
    img { display:block; max-width:100%; }

    :root {
      --bg: #000; --text: #fff;
      --gold: #ffd700; --gold-dark: #cca300;
      --overlay: rgba(0,0,0,0.15);
      --glass-bg: rgba(255,255,255,0.05);
    }
    [data-theme="light"] {
      --bg: #f5f5f5; --text: #333;
      --gold: #cca300; --gold-dark: #b58900;
      --overlay: rgba(255,255,255,0.15);
      --glass-bg: rgba(0,0,0,0.05);
    }

    /* ===== REUSABLE CLASSES ===== */
    .btn { display:inline-block; padding:12px 30px; border:2px solid var(--gold); border-radius:4px; font-weight:600; cursor:pointer; transition:.3s; background:transparent; color:var(--gold); }
    .btn-gold { background:var(--gold); color:#000; }
    .slide-in { opacity:0; transform: translateY(50px); transition: all 0.8s ease-out; }
    .slide-in.visible { opacity:1; transform: translateY(0); }

    /* ===== NAVBAR ===== */
    #theme-toggle { position:fixed; top:20px; left:20px; background:none; border:none; font-size:1.5rem; cursor:pointer; color:var(--text); z-index:10; }
    #nav-menu { position:absolute; top:20px; right:20px; z-index:10; }
    #menu-toggle { background:none; border:none; cursor:pointer; display:flex; flex-direction:column; gap:5px; width:40px; height:40px; justify-content:center; align-items:center; }
    #menu-toggle span { width:30px; height:3px; background:var(--gold); transition:all .3s; }
    #menu-toggle.active span:nth-child(1) { transform:rotate(45deg) translate(7px,7px); }
    #menu-toggle.active span:nth-child(2) { opacity:0; }
    #menu-toggle.active span:nth-child(3) { transform:rotate(-45deg) translate(8px,-8px); }
    #menu-list { list-style:none; padding:20px; background:rgba(0,0,0,0.9); position:absolute; top:50px; right:-250px; width:250px; transition:right .3s; border:1px solid var(--gold); border-radius:4px; }
    #menu-list.active { right:0; }
    #menu-list li { margin:10px 0; }
    #menu-list a { color:#fff; font-weight:500; }
    #menu-list a:hover { color:var(--gold); }

    /* ===== HERO ===== */
    #capital-hero { padding:120px 20px 60px; text-align:center; position:relative; }
    #capital-hero .logo { margin-bottom:20px; }
    #capital-hero .logo img { width:140px; transition:transform .3s; }
    #capital-hero .logo img:hover { transform:scale(1.05); }
    #capital-hero h1 { font-size:3rem; color:var(--gold); margin-bottom:.5em; }
    #capital-hero p { font-size:1.1rem; color:var(--text); margin:0 auto 1em; max-width:700px; }

    /* ===== FEATURES ===== */
    .cs-features { display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:20px; margin:40px 20px; }
    .cs-card { background:var(--glass-bg); border:1px solid var(--gold); border-radius:12px; padding:1.5rem; backdrop-filter:blur(8px); transition:transform .3s,box-shadow .3s; }
    .cs-card:hover { transform:translateY(-5px); box-shadow:0 8px 30px rgba(0,0,0,0.5); }
    .cs-card h3 { color:var(--gold); margin-bottom:.5em; }
    .cs-card ul { list-style:none; padding-left:1.2em; color:#ddd; }
    .cs-card ul li { position:relative; margin-bottom:.6em; }
    .cs-card ul li::before { content:'\f00c'; font-family:'Font Awesome 5 Free'; font-weight:900; position:absolute; left:0; color:var(--gold); }

    /* ===== APPLICATION FORM ===== */
    #cs-apply { background:var(--glass-bg); border:1px solid var(--gold); border-radius:8px; padding:2rem; max-width:600px; margin:auto 20px; }
    #cs-apply h2 { text-align:center; color:var(--gold); margin-bottom:1rem; }
    #cs-apply label { display:block; margin:.8em 0 .2em; color:var(--text); font-weight:500; }
    #cs-apply input, #cs-apply textarea { width:100%; padding:.6em; border:1px solid var(--gold); border-radius:4px; background:transparent; color:var(--text); }
    #cs-apply input::placeholder, #cs-apply textarea::placeholder { color:#aaa; }
    #cs-apply button { margin-top:1em; padding:.8em 2em; background:var(--gold); color:#000; border:none; font-weight:600; cursor:pointer; }

    /* ===== WIDGETS ===== */
    .cs-widget { margin-top:2rem; text-align:center; color:#aaa; font-style:italic; }

    /* ===== FAQ ===== */
    #faq { max-width:800px; margin:60px auto; }
    .faq-item { margin-bottom:1em; border:1px solid var(--gold); border-radius:4px; overflow:hidden; }
    .faq-question { padding:12px; background:rgba(212,175,55,0.1); display:flex; justify-content:space-between; align-items:center; cursor:pointer; color:var(--text); }
    .faq-answer { max-height:0; overflow:hidden; transition:max-height .4s ease; padding:0 12px; background:rgba(0,0,0,0.5); color:#ddd; }
    .faq-open .faq-answer { padding:12px; }
    .faq-open .faq-question i { transform:rotate(180deg); }

    /* ===== CHAT & ROCKET ===== */
    .chat-btns { position:fixed; bottom:20px; left:20px; display:flex; flex-direction:column; gap:10px; z-index:5; }
    .chat-btns a { display:flex; align-items:center; justify-content:center; width:50px; height:50px; border-radius:50%; color:#fff; font-size:1.5rem; }
    .chat-btns a[href*="wa.me"] { background:#25D366; }
    .chat-btns a.telegram { background:#0088cc; }
    #rocket { position:fixed; bottom:30px; right:30px; background:var(--gold); padding:12px; border-radius:50%; font-size:1.5rem; cursor:pointer; display:none; }

    /* ===== FOOTER ===== */
    footer { text-align:center; padding:40px 20px; background:rgba(0,0,0,0.8); color:#ccc; font-size:.9rem; }
    footer a { color:var(--gold); }
  </style>
</head>

<body>
  <!-- Theme Toggle & Navigation -->
  <button id="theme-toggle">🌞</button>
  <nav id="nav-menu">
    <button id="menu-toggle" aria-expanded="false">
      <span></span><span></span><span></span>
    </button>
    <ul id="menu-list">
      <li><a href="index.html">Home</a></li>
      <li><a href="CBE_apply.html">Apply</a></li>
      <li><a href="terms.html">Terms & Conditions</a></li>
    </ul>
  </nav>

  <!-- Hero Section -->
  <section id="capital-hero" class="slide-in">
    <div class="logo">
      <a href="index.html">
        <img src="CBE_logo.png" alt="CBE Logo">
      </a>
    </div>
    <h1>Capital Support & Mentorship</h1>
    <p>Bring your talent—We provide the funding, tech, and one-on-one coaching. All in-office, all world-class.</p>
    <a href="#cs-apply" class="btn btn-gold">Apply Now</a>
  </section>

  <!-- Features Section -->
  <section id="cs-features" class="slide-in">
    <div class="cs-features">
      <div class="cs-card">
        <h3>On-Site Funding</h3>
        <ul>
          <li>In-office program at our HQ</li>
          <li>Pro trading stations & multi-screen setups</li>
          <li>Lightning-fast market feeds</li>
        </ul>
      </div>
      <div class="cs-card">
        <h3>1-on-1 Mentorship</h3>
        <ul>
          <li>Dedicated CBE coach</li>
          <li>Live trade debriefs & strategy labs</li>
        </ul>
      </div>
      <div class="cs-card">
        <h3>Risk Controls</h3>
        <ul>
          <li>Tiered capital unlocks</li>
          <li>Automated stop-loss & sizing</li>
        </ul>
      </div>
      <div class="cs-card">
        <h3>Profit & Growth</h3>
        <ul>
          <li>High profit splits</li>
          <li>Performance dashboard & masterclasses</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- Application Form -->
  <section id="cs-apply" class="slide-in">
    <h2>Apply for Capital Support</h2>
    <form id="capitalForm">
      <label for="fullName">Full Name *</label>
      <input type="text" id="fullName" name="fullName" placeholder="Jane Doe" required>

      <label for="email">Email Address *</label>
      <input type="email" id="email" name="email" placeholder="you@example.com" required>

      <label for="phone">Phone *</label>
      <input type="tel" id="phone" name="phone" placeholder="+234......" required>

      <label for="whatsapp">WhatsApp Number</label>
      <input type="tel" id="whatsapp" name="whatsapp" placeholder="+234...">

      <label for="telegram">Telegram Handle</label>
      <input type="text" id="telegram" name="telegram" placeholder="@yourhandle">

      <label for="experience">Trading Experience (years)</label>
      <input type="number" id="experience" name="experience" min="0" placeholder="2">

      <label for="reason">Why do you deserve Capital Support? *</label>
      <textarea id="reason" name="reason" rows="4" placeholder="Your story..." required></textarea>

      <label>
        <input type="checkbox" id="terms" name="terms" required>
        I agree to the <a href="terms.html">Terms & Conditions</a>
      </label>

      <button type="submit">Submit Application</button>
    </form>

    <div class="cs-widget" id="statusTracker">Your application status will appear here.</div>
    <div class="cs-widget" id="mentorWidget">Once approved, book your in-office mentorship here.</div>
  </section>

  <!-- FAQ Section -->
  <section id="faq" class="slide-in">
    <h2>Frequently Asked Questions</h2>
    <div class="faq-item">
      <div class="faq-question">
        <span>Who is eligible?</span>
        <i class="fas fa-chevron-down"></i>
      </div>
      <div class="faq-answer">
        <p>Traders 18+ with a live forex account, ready to train on-site.</p>
      </div>
    </div>
    <div class="faq-item">
      <div class="faq-question">
        <span>How will I be contacted?</span>
        <i class="fas fa-chevron-down"></i>
      </div>
      <div class="faq-answer">
        <p>We’ll reach out via your submitted email, Telegram, or WhatsApp to schedule your start.</p>
      </div>
    </div>
  </section>

  <!-- Chat & Rocket Buttons -->
  <div class="chat-btns">
    <a href="https://wa.me/2349133957084" target="_blank"><i class="fab fa-whatsapp"></i></a>
    <a class="telegram" href="https://t.me/apexincomeoptions" target="_blank"><i class="fab fa-telegram-plane"></i></a>
  </div>
  <div id="rocket">🚀</div>

  <!-- Footer -->
  <footer>
    <p>© 2025 Chukwuemeka Bullion Exchange. All rights reserved.</p>
    <p>Forex trading involves risk. For ages 18+ only.</p>
    <p><a href="privacy.html">Privacy Policy</a> | <a href="terms.html">Terms & Conditions</a></p>
  </footer>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script>
    // Initialize Supabase client
    const supabase = window.supabase.createClient(
      'https://dapwpgvnfjcfqqhrpxla.supabase.co',
      'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRhcHdwZ3ZuZmpjZnFxaHJweGxhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwNDA4ODgsImV4cCI6MjA2MjYxNjg4OH0.ICC0UsLlzJDNre7rFCeD3k6iVzo6jOJgn3PhABpEMsQ'
    );

    // Auto-fill form fields on page load
    window.addEventListener('DOMContentLoaded', () => {
      document.getElementById('fullName').value    = 'Jane Doe';
      document.getElementById('email').value       = 'jane@example.com';
      document.getElementById('phone').value       = '+2348012345678';
      document.getElementById('whatsapp').value    = '+2348012345678';
      document.getElementById('telegram').value    = '@janedoe';
      document.getElementById('experience').value  = 2;
      document.getElementById('reason').value      = 'I’m a focused trader looking to scale with expert support.';
      document.getElementById('terms').checked     = true;
    });

    // Toast helper
    function showToast(msg, ok = true) {
      const t = document.createElement('div');
      t.textContent = msg;
      Object.assign(t.style, {
        position:'fixed', bottom:'1rem', right:'1rem',
        padding:'0.8rem 1.2rem',
        background: ok? '#1cc88a':'#e74a3b',
        color:'#fff', borderRadius:'4px', zIndex:9999
      });
      document.body.appendChild(t);
      setTimeout(()=>t.remove(),3000);
    }

    // Form submission
    document.getElementById('capitalForm').addEventListener('submit', async e => {
      e.preventDefault();
      const form = e.target;
      const btn = form.querySelector('button[type="submit"]');
      btn.disabled = true;
      btn.textContent = 'Submitting...';

      const payload = {
        full_name: form.fullName.value,
        email: form.email.value,
        phone: form.phone.value,
        whatsapp: form.whatsapp.value,
        telegram: form.telegram.value,
        experience: parseInt(form.experience.value) || 0,
        motivation: form.reason.value
      };

      try {
        const { error } = await supabase
          .from('capital_applications')
          .insert([payload]);
        if (error) throw error;

        showToast('✅ Application submitted!');
        form.reset();
        setTimeout(()=>location.reload(),1000);
      } catch (err) {
        console.error('Supabase error:', err);
        showToast(`❌ Submission failed: ${err.message}`, false);
        btn.disabled = false;
        btn.textContent = 'Submit Application';
      }
    });

    // Theme Toggle
    const themeBtn = document.getElementById('theme-toggle');
    themeBtn.addEventListener('click', () => {
      const curr = document.documentElement.getAttribute('data-theme');
      const next = curr === 'dark' ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', next);
      localStorage.setItem('theme', next);
      themeBtn.textContent = next === 'dark' ? '🌞' : '🌜';
    });
    (()=>{
      const saved = localStorage.getItem('theme') || 'dark';
      document.documentElement.setAttribute('data-theme', saved);
      themeBtn.textContent = saved === 'dark' ? '🌞' : '🌜';
    })();

    // Nav Toggle
    document.getElementById('menu-toggle').addEventListener('click', () => {
      const btn = document.getElementById('menu-toggle');
      const menu = document.getElementById('menu-list');
      const expanded = btn.getAttribute('aria-expanded') === 'true';
      btn.setAttribute('aria-expanded', !expanded);
      btn.classList.toggle('active');
      menu.classList.toggle('active');
    });

    // Slide-in Observer
    const obs = new IntersectionObserver(entries => {
      entries.forEach(e => {
        if (e.isIntersecting) {
          e.target.classList.add('visible');
          obs.unobserve(e.target);
        }
      });
    }, { threshold: 0.3 });
    document.querySelectorAll('.slide-in').forEach(el => obs.observe(el));

    // FAQ Accordion
    document.querySelectorAll('.faq-item').forEach(item => {
      item.querySelector('.faq-question').addEventListener('click', () => {
        item.classList.toggle('faq-open');
        const ans = item.querySelector('.faq-answer');
        ans.style.maxHeight = item.classList.contains('faq-open')
          ? ans.scrollHeight + 'px'
          : null;
      });
    });

    // Rocket to Top
    const rocket = document.getElementById('rocket');
    window.addEventListener('scroll', () => {
      rocket.style.display = window.scrollY > window.innerHeight / 2
        ? 'block'
        : 'none';
    });
    rocket.addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
  </script>
</body>
</html>
