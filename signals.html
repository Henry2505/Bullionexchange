<main id="main-content">
  <div class="notice">
    Sharing of these signals or any illegal activity surrounding them is highly prohibited and punishable by law.
  </div>

  <div id="signalList"></div>
</main>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    createWatermarks();
    loadSignals();
  });

  function loadSignals() {
    const list = document.getElementById('signalList');
    list.innerHTML = '';
    const signals = JSON.parse(localStorage.getItem('forexSignals') || '[]');

    if (!signals.length) {
      list.innerHTML = `<p style="text-align:center;color:#999;">No signals available yet.</p>`;
      return;
    }

    signals.reverse().forEach((s, i) => {
      const signalBox = document.createElement('div');
      signalBox.className = 'signal-box';
      signalBox.innerHTML = `
        <h2>${s.date || 'No Date Provided'}</h2>
        <div class="time">Time: ${s.time || 'N/A'}</div>
        <div class="signal-content">
          <div class="copy-line">
            ${s.type} ${s.pair} @ <span id="price${i}">${s.price}</span>
            <button class="copy-button" onclick="copyToClipboard('price${i}')">Copy</button>
          </div>
          <div class="copy-line">
            TP: <span id="tp${i}">${s.tp}</span>
            <button class="copy-button" onclick="copyToClipboard('tp${i}')">Copy</button>
          </div>
          <div class="copy-line">
            SL: <span id="sl${i}">${s.sl}</span>
            <button class="copy-button" onclick="copyToClipboard('sl${i}')">Copy</button>
          </div>
        </div>
        <div class="admin-note">Note: ${s.note || 'Trade at your own risk.'}</div>
      `;
      list.appendChild(signalBox);
    });
  }
</script>
